$(document).ready(function(){var l=Date.now(),h={},a=new Date,g=!1;2018===a.getFullYear()&&9===a.getMonth()&&22===a.getDate()&&(g=!0);var m=document.getElementsByClassName("raceContainer"),q=function(a){l+=1;var e="table-"+l,f=a.getAttribute("data-race"),c=h.races[f],b=a.classList.contains("raceContainer--school"),d=c.positionsAvailable===c.results.length,g=d||c.pollsTotal===c.pollsReporting,f='<figcaption class="card-body py-2" role="presentation"><h2 class="card-title text-center mb-0 '+(b?"h6":
"h5")+'" id="'+e+'_label"'+("cspgno"===f||"cscno"===f?' lang="fr"':"")+">"+c.raceTitle+"</h2></figcaption>",f=c.isDown?f+'<div class="card-body" role="alert"><div class="alert alert-warning text-center"><strong>Results Unavailable</strong><br />Please stand by.</div></div>':f+('<table class="table table-sm table-hover mb-0" aria-labelledby="'+e+'_label" aria-describedby="'+e+'_polls"><thead><th>Candidate</th><th class="text-right">Votes</th></thead><tbody>'+c.results.reduce(function(a,e,b){return a+
"<tr"+(d||g&&b<c.positionsAvailable?' class="table-success"':"")+"><td>"+e.candidate+'</td><td class="text-right">'+(d?"<em>Acclaimed</em>":e.votes)+"</td></tr>"},"")+"</tbody></table>"+(d?"":'<div class="card-footer py-1 text-center" id="'+e+'_polls"><small class="text-secondary">'+c.pollsReporting+" of "+c.pollsTotal+" polls reporting</small></div>"));a.innerHTML=f},a=function(){$.get("resultsJSON.asp",{},"json").done(function(a){h=a;document.getElementById("lastUpdated").innerHTML="Last Updated<br />"+
h.lastUpdated+(g?'<br /><em class="text-muted">(Refreshing automatically)</em>':"");for(a=0;a<m.length;a+=1)q(m[a])}).fail(function(){try{window.alert("An error occurred retrieving the results.")}catch(e){}})};document.getElementById("siteContainer").style.display="block";a();g&&window.setInterval(a,61E3);var k=document.getElementById("tabsContainer--toggleBtn"),b=document.getElementById("tabsContainer"),n=function(){b.classList.add("d-none");k.setAttribute("aria-expanded","false")},p=function(){var a=
b.getElementsByClassName("active")[0].getAttribute("data-next-tab");document.getElementById(a).click()};k.addEventListener("click",function(){b.classList.contains("d-none")?(b.classList.remove("d-none"),k.setAttribute("aria-expanded","true")):n()});$("a[data-toggle='tab']",b).on("shown.bs.tab",n);for(var d=document.getElementsByClassName("tabsContainer--prevBtn"),a=0;a<d.length;a+=1)d[a].addEventListener("click",function(){var a=b.getElementsByClassName("active")[0].id;b.querySelector("a[data-next-tab='"+
a+"']").click()});d=document.getElementsByClassName("tabsContainer--nextBtn");for(a=0;a<d.length;a+=1)d[a].addEventListener("click",p);var r=document.getElementById("option-autoTab");window.setInterval(function(){r.checked&&p()},45E3)});
