$(document).ready(function(){var l=Date.now(),h={},a=new Date,g=!1;2018===a.getFullYear()&&9===a.getMonth()&&22===a.getDate()&&(g=!0);var m=document.getElementsByClassName("raceContainer"),q=function(f){l+=1;var a="table-"+l,e=f.getAttribute("data-race"),c=h.races[e],b=f.classList.contains("raceContainer--school"),d=c.positionsAvailable===c.results.length,g=d||c.pollsTotal===c.pollsReporting,e='<figcaption class="card-body py-2" role="presentation"><h2 class="card-title text-center mb-0 '+(b?"h6":
"h5")+'" id="'+a+'_label"'+("cspgno"===e||"cscno"===e?' lang="fr"':"")+">"+c.raceTitle+"</h2></figcaption>",e=c.isDown?e+'<div class="card-body" role="alert"><div class="alert alert-warning text-center"><strong>Results Unavailable</strong><br />Please stand by.</div></div>':e+('<table class="table table-sm table-hover mb-0" aria-labelledby="'+a+'_label" aria-describedby="'+a+'_polls"><thead><th>Candidate</th><th class="text-right">Votes</th></thead><tbody>'+c.results.reduce(function(a,f,b){return a+
"<tr"+(d||g&&b<c.positionsAvailable?' class="table-success"':"")+"><td>"+f.candidate+'</td><td class="text-right">'+(d?"<em>Acclaimed</em>":f.votes)+"</td></tr>"},"")+"</tbody></table>"+(d?"":'<div class="card-footer py-1 text-center" id="'+a+'_polls"><small class="text-secondary">'+c.pollsReporting+" of "+c.pollsTotal+" polls reporting</small></div>"));f.innerHTML=e},a=function(){$.get("resultsJSON.asp",{},"json").done(function(a){h=a;document.getElementById("lastUpdated").innerHTML="Last Updated<br />"+
h.lastUpdated+(g?'<br /><em class="text-muted">(Refreshing automatically)</em>':"");document.getElementById("progress-bar--votersHeardFrom").style.width=(a.votersHeardFrom/a.votersTotal*100).toString()+"%";document.getElementById("progress--votersHeardFrom").innerText=a.votersHeardFrom;document.getElementById("progress--votersTotal").innerText=a.votersTotal;for(a=0;a<m.length;a+=1)q(m[a])}).fail(function(){try{window.alert("An error occurred retrieving the results.")}catch(f){}})};document.getElementById("siteContainer").style.display=
"block";a();g&&window.setInterval(a,61E3);var k=document.getElementById("tabsContainer--toggleBtn"),b=document.getElementById("tabsContainer"),n=function(){b.classList.add("d-none");k.setAttribute("aria-expanded","false")},p=function(){var a=b.getElementsByClassName("active")[0].getAttribute("data-next-tab");document.getElementById(a).click()};k.addEventListener("click",function(){b.classList.contains("d-none")?(b.classList.remove("d-none"),k.setAttribute("aria-expanded","true")):n()});$("a[data-toggle='tab']",
b).on("shown.bs.tab",n);for(var d=document.getElementsByClassName("tabsContainer--prevBtn"),a=0;a<d.length;a+=1)d[a].addEventListener("click",function(){var a=b.getElementsByClassName("active")[0].id;b.querySelector("a[data-next-tab='"+a+"']").click()});d=document.getElementsByClassName("tabsContainer--nextBtn");for(a=0;a<d.length;a+=1)d[a].addEventListener("click",p);var r=document.getElementById("option-autoTab");window.setInterval(function(){r.checked&&p()},45E3)});
